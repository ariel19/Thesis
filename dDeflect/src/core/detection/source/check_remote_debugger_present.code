// windows.h
BOOL flag = FALSE;
CheckRemoteDebuggerPresent((HANDLE)-1, &flag);
if(flag)
	ExitProcess();